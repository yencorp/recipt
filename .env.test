# =================================================================
# 테스트 환경 변수 설정
# 프로젝트: 광남동성당 청소년위원회 예결산 관리 시스템
# 설명: 자동화 테스트용 환경 설정
# =================================================================

# ==== 환경 설정 ====
NODE_ENV=test
API_PREFIX=api
PORT=8002

# ==== 테스트 데이터베이스 설정 ====
DB_HOST=localhost
DB_PORT=5432
DB_NAME=recipt_test
DB_USER=recipt_test
DB_PASSWORD=test123
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ==== 테스트 Redis 설정 ====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1

# ==== JWT 테스트 설정 ====
JWT_SECRET=test-jwt-secret-key-not-for-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=test-refresh-secret-key
JWT_REFRESH_EXPIRES_IN=24h

# ==== 암호화 테스트 설정 ====
ENCRYPTION_KEY=test-encryption-key-32-chars-long
BCRYPT_ROUNDS=4

# ==== CORS 테스트 설정 ====
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ==== Swagger 비활성화 ====
ENABLE_SWAGGER=false

# ==== 테스트 로깅 설정 ====
LOG_LEVEL=error
LOG_FILE_PATH=logs/test.log
LOG_MAX_FILES=2
LOG_MAX_SIZE=5m

# ==== OCR 서비스 테스트 설정 ====
OCR_SERVICE_URL=http://localhost:8001
OCR_SERVICE_TIMEOUT=10000
TESSERACT_LANG=eng
ALLOWED_EXTENSIONS=["jpg","jpeg","png"]
MAX_FILE_SIZE=5242880
UPLOAD_DIR=test_uploads
PROCESSED_DIR=test_processed

# ==== 파일 업로드 테스트 설정 ====
MAX_FILE_SIZE_MB=5
ALLOWED_MIME_TYPES=image/jpeg,image/png
UPLOAD_PATH=./test_uploads
TEMP_PATH=./test_temp

# ==== 이메일 테스트 설정 (모킹) ====
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=test@example.com
SMTP_PASSWORD=test
EMAIL_FROM=test@recipt-system.com

# ==== 보안 테스트 설정 ====
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true
HELMET_ENABLED=false
CSRF_ENABLED=false

# ==== 세션 테스트 설정 ====
SESSION_SECRET=test-session-secret
SESSION_MAX_AGE=1800000
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true

# ==== 건강 상태 체크 비활성화 ====
HEALTH_CHECK_DATABASE=false
HEALTH_CHECK_REDIS=false
HEALTH_CHECK_OCR_SERVICE=false

# ==== 개발 도구 비활성화 ====
HOT_RELOAD=false
WATCH_FILES=false
DEBUG_MODE=false
PROFILING_ENABLED=false

# ==== 캐싱 비활성화 ====
CACHE_TTL=60
CACHE_MAX_ITEMS=100
ENABLE_CACHE=false

# ==== 백업 비활성화 ====
BACKUP_ENABLED=false

# ==== 모니터링 비활성화 ====
METRICS_ENABLED=false
PROMETHEUS_ENABLED=false

# ==== 테스트 전용 설정 ====
SEED_DATA_ENABLED=true
MOCK_DATA_ENABLED=true
TEST_USER_EMAIL=testuser@example.com
TEST_USER_PASSWORD=testpassword123
TEST_ADMIN_EMAIL=admin@example.com
TEST_ADMIN_PASSWORD=adminpassword123

# ==== 테스트 타임아웃 설정 ====
TEST_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
HTTP_TIMEOUT=5000