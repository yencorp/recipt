# 광남동성당 청소년위원회 예결산 관리 시스템 - 제품 요구사항 명세서 (PRD)

## 1. 개요

### 1.1 제품 개요
광남동성당 청소년위원회 예결산 관리 시스템은 4개 단체(청년회, 자모회, 초등부 주일학교, 중고등부 주일학교)의 예산서, 결산서, 예산상세내역서, 결산상세내역서를 효율적으로 작성하고 관리할 수 있는 웹 기반 서비스입니다.

### 1.2 대상 사용자
- **1차 사용자**: 4개 단체 구성원
  - 청년회
  - 자모회
  - 초등부 주일학교
  - 중고등부 주일학교
- **2차 사용자**: 시스템 관리자 (사용자 관리, 단체 관리, 블로그 관리)

### 1.3 핵심 가치 제안
- **행사 중심 예결산 관리**: 행사(프로젝트) 단위로 체계적인 예산 관리
- **자동화된 문서 생성**: 표준 양식에 맞춘 예산서/결산서 자동 생성
- **영수증 OCR 인식**: 영수증 자동 인식으로 결산 업무 효율화
- **A4 인쇄 최적화**: 공식 문서 양식에 맞춘 인쇄 기능
- **단체별 권한 관리**: 단체별 독립적인 데이터 관리 및 권한 제어
- **블로그 형태 알림**: 공지사항 및 소식 공유 플랫폼

## 2. 제품 목표 및 비전

### 2.1 주요 목표
1. **업무 효율성 향상**: 수작업 예결산 업무를 디지털화하여 작업 시간 50% 단축
2. **정확성 향상**: OCR 기술을 통한 영수증 자동 입력으로 인적 오류 최소화
3. **표준화**: 일관된 예결산 양식 적용으로 업무 표준화 달성
4. **투명성**: 단체별 예결산 내역 투명한 관리 및 공유
5. **사용성**: 직관적인 UI로 누구나 쉽게 사용 가능한 시스템 구축

### 2.2 성공 지표
- 영수증 OCR 인식 정확도: 90% 이상
- 사용자 만족도: 4.5/5.0 이상
- 예결산 문서 작성 시간 단축: 기존 대비 50% 이상
- 시스템 가용성: 99.5% 이상
- 월간 활성 사용자 수: 전체 단체 구성원의 80% 이상

## 3. 사용자 스토리 및 유스케이스

### 3.1 핵심 사용자 스토리

#### 3.1.1 행사 기획 및 예산 수립
- **As a** 단체 구성원
- **I want to** 새로운 행사를 생성하고 예산서를 작성
- **So that** 행사 승인을 위한 정확한 예산 계획을 수립할 수 있다

#### 3.1.2 영수증 관리 및 결산
- **As a** 행사 담당자
- **I want to** 영수증을 업로드하여 자동으로 결산 데이터에 반영
- **So that** 수작업 없이 정확한 결산서를 완성할 수 있다

#### 3.1.3 문서 인쇄 및 보고
- **As a** 단체 임원
- **I want to** 완성된 예결산서를 A4 양식으로 인쇄
- **So that** 공식 회의나 보고를 위한 문서를 준비할 수 있다

#### 3.1.4 정보 공유 및 소통
- **As a** 단체 구성원
- **I want to** 블로그를 통해 공지사항과 소식을 확인
- **So that** 단체 활동에 대한 최신 정보를 파악할 수 있다

### 3.2 상세 유스케이스

#### 3.2.1 예산서 작성 워크플로우
1. 사용자 로그인 및 소속 단체 선택
2. 새로운 행사 생성 (행사명, 일시, 장소, 배정 예산액 입력)
3. 수입 목록 작성 (예상 수입원 및 금액 입력)
4. 예상 지출 상세 작성 (항목별 예상 지출 내역)
5. 예산서 자동 완성 및 검토
6. 예산서 및 예산상세내역서 저장
7. A4 양식으로 인쇄 또는 PDF 다운로드

#### 3.2.2 결산서 작성 워크플로우
1. 기존 행사 선택 및 결산 작성 시작
2. 실제 수입 목록 작성
3. 영수증 업로드 및 OCR 처리
4. 결산 지출 상세 작성 (OCR 결과 검토 및 수정)
5. 결산서 자동 완성 및 검토
6. 결산서 및 결산상세내역서 저장
7. A4 양식으로 인쇄 또는 PDF 다운로드

#### 3.2.3 영수증 OCR 처리 워크플로우
1. 영수증 이미지 업로드 (드래그앤드롭, 최대 100개 동시 업로드)
2. OCR 엔진 자동 처리 (1차: TesseractOCR, easyOCR / 2차: Google Vision API)
3. 인식 결과 표시 (날짜, 상호, 금액 + 썸네일)
4. 사용자 검토 및 수정
5. 결산 데이터에 자동 반영
6. 머신러닝 학습 데이터 저장

## 4. 기능 요구사항

### 4.1 사용자 인증 및 관리
- **FR-001**: 사용자 회원가입 시 필수 정보 입력 (이름, 세례명, 전화번호, 이메일, 생년월일, 직책)
- **FR-002**: 선택적 부가 정보 입력 (주소)
- **FR-003**: 가입 시 소속 단체 선택 (복수 선택 가능)
- **FR-004**: 이메일/패스워드 기반 로그인
- **FR-005**: 사용자 프로필 관리 기능
- **FR-006**: 패스워드 재설정 기능

### 4.2 관리자 기능
- **FR-007**: 사용자 목록 조회 및 상세 정보 확인
- **FR-008**: 관리자 권한 부여 및 회수
- **FR-009**: 사용자 소속 단체 지정 및 변경 (복수 지정 가능)
- **FR-010**: 사용자 계정 정지/활성화
- **FR-011**: 사용자 비밀번호 강제 초기화
- **FR-012**: 단체 목록 관리 (추가/삭제)
- **FR-013**: 블로그 글 작성, 수정, 삭제

### 4.3 메인 인터페이스
- **FR-014**: 메인 페이지 구성
  - 메인 타이틀: "광남동성당 청소년위원회 - 편리한 예결산을 위한 서비스"
  - 로그인 버튼
  - 비로그인 사용자는 메인 페이지만 접근 가능
- **FR-015**: 메인 헤더 메뉴 구성
  - 메인페이지
  - 알림 (블로그 방식)
  - 행사

### 4.4 알림 및 블로그 기능
- **FR-016**: 블로그 형태 알림 페이지 (로그인 후 첫 페이지)
- **FR-017**: 글 목록 표시 (작성일, 제목)
- **FR-018**: 글 상세 보기
- **FR-019**: 관리자 글 작성, 수정, 삭제 기능

### 4.5 행사(프로젝트) 관리
- **FR-020**: 행사 생성 기능
  - 행사명 입력
  - 행사 일시 (시작일, 종료일)
  - 행사 장소
  - 복음화계획서상 배정된 예산액
- **FR-021**: 행사 목록 표시
  - 상세 보기 (예산서 보기, 결산서 보기)
  - 편집 (행사명 수정)
  - 삭제 (행사 삭제)
  - 예산서 작성 버튼
  - 결산서 작성 버튼
- **FR-022**: 행사 권한 관리
  - 모든 사용자는 모든 행사 열람 가능
  - 자신이 작성한 행사만 수정 권한 보유
  - 관리자는 모든 행사 접근 및 수정 가능

### 4.6 예산서 작성 기능
- **FR-023**: 순차적 예산서 작성 프로세스
  1. 수입 목록 작성 페이지
  2. 예상 지출 상세 작성 페이지
  3. 예산서 자동 완성 페이지
- **FR-024**: 예산서 보기 기능
  - 예산서 보기
  - 예상 지출 상세 보기
  - 예산서 및 예상 지출 상세내역서 인쇄
- **FR-025**: 예산 데이터 유효성 검증
- **FR-026**: 임시 저장 기능

### 4.7 결산서 작성 기능
- **FR-027**: 순차적 결산서 작성 프로세스
  1. 수입 목록 작성 페이지
  2. 결산 지출 상세 작성 페이지 (영수증 업로드 포함)
  3. 결산서 자동 완성 페이지
- **FR-028**: 결산서 보기 기능
  - 결산서 보기
  - 결산 지출 상세 보기
  - 결산서 및 결산 지출 상세내역서 인쇄
- **FR-029**: 결산 데이터 유효성 검증
- **FR-030**: 예산서와 결산서 비교 기능

### 4.8 영수증 OCR 기능
- **FR-031**: 영수증 업로드 기능
  - 드래그앤드롭 지원
  - 여러 파일 동시 업로드 (최대 100개)
  - 진행률 표시
- **FR-032**: 영수증 인식 및 데이터 추출
  - **필수 인식 정보**: 날짜, 상호, 결제금액
  - **부가 정보**: 구입항목 및 금액, 사업자번호, 결제수단 등
- **FR-033**: OCR 엔진 다단계 처리
  - 1차 처리: TesseractOCR, easyOCR
  - 2차 처리: Google Vision API (재인식 요청 시)
  - 한글 자연어 처리: PyKoSpacing(띄어쓰기), symspellpy(맞춤법 교정)
- **FR-034**: 이미지 전처리 기능 (OpenCV 활용)
  - 영수증 영역 자동 감지 및 크로핑
  - 일정 가로 사이즈로 리사이징
  - 적정 파일 사이즈로 최적화
- **FR-035**: 영수증 목록 및 관리
  - 썸네일과 함께 목록 표시
  - 썸네일 클릭 시 원본 영수증 팝업 표시
  - 각 항목 즉시 수정 및 저장 가능
- **FR-036**: 머신러닝 기반 인식률 향상
  - 사용자 피드백 기반 학습
  - 사용할수록 인식률 상승

### 4.9 인쇄 기능
- **FR-037**: A4 용지 기준 인쇄 최적화
- **FR-038**: 표준 양식 적용 (docs/_sample_docs 폴더 기준)
  - 예산서 양식
  - 예산상세내역서 양식
  - 결산서 양식
  - 결산상세내역서 양식
- **FR-039**: PDF 다운로드 기능
- **FR-040**: 인쇄 미리보기 기능

## 5. 비기능 요구사항

### 5.1 성능 요구사항
- **NFR-001**: 웹 페이지 로딩 시간 3초 이내
- **NFR-002**: OCR 처리 시간 영수증 1장당 평균 5초 이내
- **NFR-003**: 동시 사용자 50명 지원
- **NFR-004**: 영수증 이미지 업로드 최대 10MB 지원

### 5.2 가용성 및 안정성
- **NFR-005**: 시스템 가용성 99.5%
- **NFR-006**: 일일 자동 백업 시스템
- **NFR-007**: 장애 발생 시 4시간 이내 복구
- **NFR-008**: 데이터 무결성 보장

### 5.3 보안 요구사항
- **NFR-009**: HTTPS 강제 적용
- **NFR-010**: SQL Injection, XSS 등 보안 취약점 방어
- **NFR-011**: 개인정보보호법 준수
- **NFR-012**: 사용자 데이터 암호화 저장
- **NFR-013**: 세션 관리 및 자동 로그아웃

### 5.4 사용성
- **NFR-014**: 반응형 웹 디자인 (모바일 지원)
- **NFR-015**: 직관적이고 간단한 사용자 인터페이스
- **NFR-016**: 브라우저 호환성 (Chrome, Safari, Firefox, Edge)
- **NFR-017**: 접근성 지침 준수

### 5.5 확장성 및 유지보수성
- **NFR-018**: 컨테이너 기반 마이크로서비스 아키텍처
- **NFR-019**: 코드 테스트 커버리지 70% 이상
- **NFR-020**: API 문서화 및 버전 관리
- **NFR-021**: 로그 시스템 및 모니터링

## 6. 기술 아키텍처

### 6.1 전체 시스템 아키텍처

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │     Backend     │    │    Database     │
│   (React)       │◄──►│    (NestJS)     │◄──►│  (PostgreSQL)   │
│   - VITE        │    │   - RESTful API │    │                 │
│   - 사용자 인터페이스  │    │   - 인증/권한     │    │   - 사용자 데이터   │
│   - 예결산 양식     │    │   - 비즈니스 로직  │    │   - 행사 데이터     │
└─────────────────┘    └─────────┬───────┘    └─────────────────┘
                                 │
                    ┌─────────────┼─────────────┐
                    │             │             │
        ┌───────────▼────────┐   │   ┌────────▼────────┐
        │    OCR Service     │   │   │   File Storage  │
        │   (Python)         │   │   │     (Local)     │
        │ - TesseractOCR     │   │   │   - 영수증 이미지   │
        │ - easyOCR          │   │   │   - PDF 파일     │
        │ - Google Vision    │   │   │                 │
        └────────────────────┘   │   └─────────────────┘
                                 │
        ┌────────────────────────▼────────────────────────┐
        │              Docker Environment               │
        │  ┌─────────────┐ ┌─────────────┐ ┌───────────┐ │
        │  │  frontend   │ │   backend   │ │    DB     │ │
        │  │ Container   │ │  Container  │ │ Container │ │
        │  └─────────────┘ └─────────────┘ └───────────┘ │
        │  ┌─────────────┐ ┌─────────────┐              │
        │  │     OCR     │ │     ML      │              │
        │  │  Container  │ │  Container  │              │
        │  └─────────────┘ └─────────────┘              │
        └─────────────────────────────────────────────────┘
```

### 6.2 기술 스택

#### 6.2.1 프론트엔드
- **프레임워크**: React 18+
- **빌드 도구**: VITE
- **상태 관리**: Redux Toolkit 또는 Zustand
- **스타일링**: Tailwind CSS 또는 Material-UI
- **HTTP 클라이언트**: Axios
- **라우팅**: React Router

#### 6.2.2 백엔드
- **프레임워크**: NestJS
- **언어**: TypeScript
- **아키텍처**: RESTful API
- **인증**: JWT
- **검증**: Class Validator
- **문서화**: Swagger/OpenAPI

#### 6.2.3 데이터베이스
- **RDBMS**: PostgreSQL 14+
- **ORM**: TypeORM
- **마이그레이션**: TypeORM migrations
- **연결 풀**: 내장 connection pooling

#### 6.2.4 OCR 및 머신러닝
- **언어**: Python 3.9+
- **OCR 엔진**: 
  - TesseractOCR (pytesseract)
  - easyOCR
  - Google Vision API
- **이미지 처리**: OpenCV
- **자연어 처리**: 
  - PyKoSpacing (한글 띄어쓰기)
  - symspellpy (맞춤법 교정)
- **웹 프레임워크**: FastAPI 또는 Flask

#### 6.2.5 인프라 및 배포
- **컨테이너**: Docker
- **오케스트레이션**: Docker Compose
- **개발 환경**: MacOS, Docker
- **파일 저장**: 로컬 파일시스템
- **백업**: 자동화된 데이터베이스 백업

### 6.3 컨테이너 구성

1. **frontend**: React + VITE 애플리케이션
2. **backend**: NestJS API 서버
3. **database**: PostgreSQL 데이터베이스
4. **ocr**: Python OCR 처리 서비스
5. **ml**: 머신러닝 학습 및 추론 서비스

## 7. 데이터베이스 설계

### 7.1 주요 엔터티

#### 7.1.1 사용자 관리
- **users**: 사용자 기본 정보
- **organizations**: 단체 정보
- **user_organizations**: 사용자-단체 다대다 관계

#### 7.1.2 행사 및 예결산
- **events**: 행사 정보
- **budgets**: 예산서 정보
- **budget_items**: 예산 항목
- **settlements**: 결산서 정보
- **settlement_items**: 결산 항목

#### 7.1.3 영수증 관리
- **receipts**: 영수증 기본 정보
- **receipt_items**: 영수증 상품 정보
- **ocr_jobs**: OCR 처리 작업
- **ml_training_data**: 머신러닝 학습 데이터

#### 7.1.4 블로그 및 알림
- **posts**: 블로그 게시물
- **notifications**: 알림 정보

### 7.2 주요 관계

```sql
-- 사용자-단체 다대다 관계
users (1) ↔ (N) user_organizations (N) ↔ (1) organizations

-- 행사는 하나의 단체에 속함
organizations (1) ↔ (N) events

-- 예결산은 하나의 행사에 속함
events (1) ↔ (1) budgets
events (1) ↔ (1) settlements

-- 영수증은 하나의 결산에 속함
settlements (1) ↔ (N) receipts
```

### 7.3 핵심 테이블 스키마

#### 7.3.1 사용자 테이블
```sql
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    name VARCHAR(100) NOT NULL,
    baptismal_name VARCHAR(100),
    phone VARCHAR(20) NOT NULL,
    birth_date DATE NOT NULL,
    position VARCHAR(100) NOT NULL,
    address TEXT,
    is_admin BOOLEAN DEFAULT FALSE,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

#### 7.3.2 행사 테이블
```sql
CREATE TABLE events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    organization_id UUID NOT NULL REFERENCES organizations(id),
    name VARCHAR(200) NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    location VARCHAR(200),
    allocated_budget DECIMAL(12,2),
    created_by UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

#### 7.3.3 영수증 테이블
```sql
CREATE TABLE receipts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    settlement_id UUID NOT NULL REFERENCES settlements(id),
    ocr_job_id UUID REFERENCES ocr_jobs(id),
    receipt_date DATE NOT NULL,
    merchant_name VARCHAR(200) NOT NULL,
    total_amount DECIMAL(10,2) NOT NULL,
    business_number VARCHAR(20),
    payment_method VARCHAR(50),
    image_path TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

## 8. API 설계

### 8.1 인증 API
- `POST /auth/register` - 사용자 등록
- `POST /auth/login` - 로그인
- `POST /auth/refresh` - 토큰 갱신
- `POST /auth/logout` - 로그아웃
- `POST /auth/forgot-password` - 비밀번호 재설정

### 8.2 사용자 관리 API
- `GET /users/profile` - 사용자 프로필 조회
- `PUT /users/profile` - 사용자 프로필 수정
- `GET /users/organizations` - 사용자 소속 단체 목록

### 8.3 관리자 API
- `GET /admin/users` - 사용자 목록 조회
- `PUT /admin/users/:id` - 사용자 정보 수정
- `POST /admin/users/:id/reset-password` - 비밀번호 초기화
- `PUT /admin/users/:id/status` - 사용자 상태 변경
- `GET /admin/organizations` - 단체 목록 관리
- `POST /admin/organizations` - 단체 추가
- `DELETE /admin/organizations/:id` - 단체 삭제

### 8.4 행사 관리 API
- `GET /events` - 행사 목록 조회
- `POST /events` - 행사 생성
- `GET /events/:id` - 행사 상세 조회
- `PUT /events/:id` - 행사 수정
- `DELETE /events/:id` - 행사 삭제

### 8.5 예산 관리 API
- `POST /events/:id/budget` - 예산서 작성
- `GET /events/:id/budget` - 예산서 조회
- `PUT /events/:id/budget` - 예산서 수정
- `POST /events/:id/budget/items` - 예산 항목 추가
- `PUT /events/:id/budget/items/:itemId` - 예산 항목 수정

### 8.6 결산 관리 API
- `POST /events/:id/settlement` - 결산서 작성
- `GET /events/:id/settlement` - 결산서 조회
- `PUT /events/:id/settlement` - 결산서 수정
- `POST /events/:id/settlement/receipts` - 영수증 업로드

### 8.7 OCR API
- `POST /ocr/process` - 영수증 OCR 처리
- `GET /ocr/jobs/:id` - OCR 작업 상태 조회
- `PUT /ocr/results/:id` - OCR 결과 수정

### 8.8 블로그 API
- `GET /posts` - 게시물 목록 조회
- `GET /posts/:id` - 게시물 상세 조회
- `POST /admin/posts` - 게시물 작성 (관리자)
- `PUT /admin/posts/:id` - 게시물 수정 (관리자)
- `DELETE /admin/posts/:id` - 게시물 삭제 (관리자)

### 8.9 인쇄 API
- `GET /print/budget/:id` - 예산서 인쇄용 데이터
- `GET /print/settlement/:id` - 결산서 인쇄용 데이터
- `POST /print/pdf` - PDF 생성

## 9. UI/UX 설계

### 9.1 화면 구성

#### 9.1.1 메인 페이지
- 광남동성당 청소년위원회 대표 타이틀
- 서비스 소개
- 로그인 버튼
- 비로그인 사용자 접근 제한

#### 9.1.2 로그인 후 대시보드
- 헤더 네비게이션 (메인페이지, 알림, 행사)
- 알림(블로그) 목록 (기본 페이지)
- 최근 행사 현황
- 빠른 작업 버튼

#### 9.1.3 행사 관리
- 행사 목록 (카드 형태)
- 행사 생성 모달
- 행사별 상태 표시 (예산서/결산서 완료 여부)
- 액션 버튼 (상세보기, 편집, 삭제, 예산서 작성, 결산서 작성)

#### 9.1.4 예산서 작성
- 단계별 진행 표시기
- Step 1: 수입 목록 작성
- Step 2: 예상 지출 상세 작성
- Step 3: 예산서 자동 완성 및 검토

#### 9.1.5 결산서 작성
- 단계별 진행 표시기
- Step 1: 수입 목록 작성
- Step 2: 결산 지출 상세 작성
- Step 3: 영수증 업로드 및 OCR 처리
- Step 4: 결산서 자동 완성 및 검토

#### 9.1.6 영수증 관리
- 드래그앤드롭 업로드 영역
- 진행률 표시
- 영수증 목록 (썸네일 + 정보)
- OCR 결과 검토 및 수정 인터페이스

### 9.2 반응형 디자인
- 모바일 우선 설계
- 태블릿 최적화
- 데스크탑 확장 레이아웃

### 9.3 접근성
- 키보드 네비게이션 지원
- 스크린 리더 호환성
- 고대비 색상 지원
- 적절한 폰트 크기

## 10. 구현 계획

### 10.1 Phase 1 - 핵심 기능 개발 (3개월)

#### 10.1.1 개발 환경 구축 (2주)
- Docker 개발 환경 설정
- CI/CD 파이프라인 구축
- 개발 가이드라인 수립

#### 10.1.2 백엔드 기반 구조 (4주)
- NestJS 프로젝트 초기 설정
- PostgreSQL 데이터베이스 설계 및 구축
- 사용자 인증 시스템 구현
- 기본 API 구조 설정

#### 10.1.3 프론트엔드 기반 구조 (4주)
- React + VITE 프로젝트 설정
- 기본 레이아웃 및 네비게이션
- 인증 플로우 구현
- 상태 관리 시스템 구축

#### 10.1.4 행사 및 예결산 관리 (2주)
- 행사 CRUD 기능
- 예산서 작성 기능
- 결산서 작성 기능
- 기본 인쇄 기능

### 10.2 Phase 2 - OCR 및 고급 기능 (2개월)

#### 10.2.1 OCR 시스템 개발 (4주)
- Python OCR 서비스 구축
- TesseractOCR, easyOCR 통합
- 이미지 전처리 파이프라인
- OCR 결과 검토 인터페이스

#### 10.2.2 머신러닝 시스템 (2주)
- 기본 학습 파이프라인
- 사용자 피드백 수집
- 모델 성능 모니터링

#### 10.2.3 블로그 및 알림 시스템 (1주)
- 블로그 기능 구현
- 관리자 컨텐츠 관리
- 알림 시스템

#### 10.2.4 인쇄 시스템 최적화 (1주)
- A4 양식 최적화
- PDF 생성 기능
- 인쇄 미리보기

### 10.3 Phase 3 - 품질 향상 및 배포 (1개월)

#### 10.3.1 테스트 및 품질 보증 (2주)
- 단위 테스트 작성
- 통합 테스트
- 사용자 테스트
- 성능 최적화

#### 10.3.2 보안 및 최적화 (1주)
- 보안 검토
- 성능 튜닝
- 에러 핸들링 개선

#### 10.3.3 배포 및 운영 준비 (1주)
- 프로덕션 환경 구축
- 모니터링 시스템
- 사용자 매뉴얼 작성

## 11. 위험 평가 및 완화 전략

### 11.1 기술적 위험

#### 11.1.1 OCR 정확도 문제
- **위험**: 한글 영수증 인식률 저하
- **완화 전략**: 
  - 다중 OCR 엔진 사용
  - 사용자 피드백 기반 개선
  - Google Vision API 보조 활용

#### 11.1.2 성능 문제
- **위험**: 다중 사용자 동시 접속 시 성능 저하
- **완화 전략**:
  - 비동기 처리 구조
  - 캐싱 시스템 도입
  - 데이터베이스 최적화

#### 11.1.3 데이터 손실
- **위험**: 중요한 예결산 데이터 손실
- **완화 전략**:
  - 자동 백업 시스템
  - 데이터 무결성 검증
  - 재해 복구 계획

### 11.2 비즈니스 위험

#### 11.2.1 사용자 수용성
- **위험**: 기존 업무 방식에 익숙한 사용자들의 저항
- **완화 전략**:
  - 점진적 도입
  - 충분한 교육 및 지원
  - 사용자 피드백 적극 반영

#### 11.2.2 데이터 보안
- **위험**: 민감한 재정 정보 유출
- **완화 전략**:
  - 강화된 인증 시스템
  - 데이터 암호화
  - 정기적인 보안 감사

### 11.3 운영 위험

#### 11.3.1 시스템 장애
- **위험**: 중요한 시기의 시스템 다운
- **완화 전략**:
  - 고가용성 아키텍처
  - 장애 모니터링 시스템
  - 빠른 복구 절차

## 12. 성공 기준

### 12.1 기술적 성공 지표
- OCR 정확도 90% 이상 달성
- 시스템 가용성 99.5% 이상 유지
- 페이지 로딩 시간 3초 이내
- 동시 사용자 50명 지원

### 12.2 사용자 만족도 지표
- 사용자 만족도 조사 4.5/5.0 이상
- 월간 활성 사용자 비율 80% 이상
- 지원 요청 건수 주당 5건 이하
- 사용자 교육 완료율 95% 이상

### 12.3 비즈니스 효과 지표
- 예결산 작업 시간 50% 단축
- 문서 오류율 70% 감소
- 업무 표준화 달성 90% 이상
- 데이터 투명성 만족도 4.0/5.0 이상

### 12.4 운영 효율성 지표
- 시스템 장애 시간 월 4시간 이하
- 데이터 백업 성공률 99.9% 이상
- 보안 사고 0건 유지
- 시스템 응답 시간 1초 이내

---

## 부록

### A. 용어 정의
- **행사**: 단체에서 진행하는 프로젝트 또는 이벤트
- **예산서**: 행사 진행 전 작성하는 예상 수입/지출 계획서
- **결산서**: 행사 완료 후 작성하는 실제 수입/지출 정리서
- **복음화계획서**: 광남동성당의 연간 사업 계획서
- **OCR**: Optical Character Recognition, 광학 문자 인식
- **단체**: 청년회, 자모회, 초등부 주일학교, 중고등부 주일학교

### B. 참고 문서
- docs/_sample_docs 폴더 내 예결산 양식 샘플
- docs/_sample_sourcecode 폴더 내 OCR 관련 코드 참고
- NestJS Documentation
- React + VITE Documentation
- PostgreSQL Documentation
- Docker Documentation

### C. 명명 규칙
#### C.1 파일명
- 테스트용 파일: `test_파일명`
- 영수증인식 관련 파일: `ocr_파일명`
- 머신러닝 관련 파일: `ml_파일명`

#### C.2 함수명, 변수명
- camelCase 사용 (JavaScript/TypeScript)
- snake_case 사용 (Python)
- 의미있는 네이밍 컨벤션 준수

### D. 버전 히스토리
- v1.0 - 초기 PRD 작성 (현재)

---

*본 문서는 프로젝트 진행 상황에 따라 지속적으로 업데이트됩니다.*

/sc:index docs/SummeryService.md 에 서비스에 대한 요구사항을 정리해봤어. docs/폴더에 PRD.md를 작성해줘. --persona-mentor --persona-scribe --persona-analyzer --think-hard  