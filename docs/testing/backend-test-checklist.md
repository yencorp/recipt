# 백엔드 테스트 체크리스트

## 1. 기능 테스트

### 인증 및 권한
- [ ] 회원가입 (유효성 검증 포함)
- [ ] 로그인 (성공/실패 케이스)
- [ ] 토큰 갱신
- [ ] 로그아웃
- [ ] 비밀번호 재설정
- [ ] 역할별 접근 제어 (ADMIN, ORG_ADMIN, ORG_MEMBER, USER, QA)

### 조직 관리
- [ ] 조직 생성
- [ ] 조직 목록 조회 (페이징, 필터링)
- [ ] 조직 상세 조회
- [ ] 조직 수정
- [ ] 조직 삭제 (soft delete)
- [ ] 조직원 추가/제거
- [ ] 조직 권한 관리

### 행사 관리
- [ ] 행사 생성
- [ ] 행사 목록 조회 (필터링: 조직, 타입, 상태, 날짜)
- [ ] 행사 상세 조회 (relations 포함)
- [ ] 행사 수정
- [ ] 행사 삭제 (연관 데이터 확인)
- [ ] 행사 상태 관리 (승인, 시작, 완료, 취소, 연기)

### 예산/정산
- [ ] 예산서 작성 (수입/지출 항목)
- [ ] 예산서 조회 (relations 확인)
- [ ] 예산서 수정
- [ ] 정산서 작성
- [ ] 정산서 조회
- [ ] 예산 대비 결산 비교
- [ ] 영수증 업로드
- [ ] OCR 처리 (큐 시스템)

### 게시판
- [ ] 게시글 작성
- [ ] 게시글 목록 조회 (페이징, 검색)
- [ ] 게시글 상세 조회
- [ ] 게시글 수정/삭제
- [ ] 댓글 작성/조회/삭제
- [ ] 좋아요 추가/제거

### 알림
- [ ] 알림 목록 조회
- [ ] 알림 읽음 처리
- [ ] WebSocket 연결
- [ ] 실시간 알림 수신
- [ ] 이메일 알림 발송
- [ ] 알림 설정 관리

### 파일 관리
- [ ] 단일 파일 업로드
- [ ] 다중 파일 업로드
- [ ] 파일 메타데이터 저장
- [ ] 썸네일 생성
- [ ] 파일 형식 검증
- [ ] 파일 크기 제한

### 관리자 기능
- [ ] 사용자 관리 (CRUD, 활성화/비활성화)
- [ ] 조직 관리
- [ ] 시스템 설정
- [ ] 대시보드 통계

---

## 2. 보안 테스트

### 인증/권한
- [ ] JWT 토큰 검증
- [ ] 만료된 토큰 거부
- [ ] 잘못된 토큰 거부
- [ ] 역할 기반 접근 제어 동작 확인
- [ ] 권한 없는 리소스 접근 차단

### 입력 검증
- [ ] XSS 방지 (HTML 태그 차단)
- [ ] SQL Injection 방지
- [ ] 특수 문자 이스케이프
- [ ] 한국 전화번호 형식 검증
- [ ] 이메일 형식 검증
- [ ] 금액 범위 검증 (0 ~ 100억)
- [ ] 날짜 검증 (미래 날짜)

### API 보안
- [ ] Rate Limiting 동작 (15분당 100 요청)
- [ ] CORS 정책 적용
- [ ] 보안 헤더 설정 (HSTS, CSP, X-Frame-Options 등)
- [ ] HTTPS 강제 (프로덕션)
- [ ] API 키 인증 (선택적)

---

## 3. 성능 테스트

### 데이터베이스
- [ ] N+1 쿼리 없음 (relations eager loading 확인)
- [ ] 인덱스 활용 확인
- [ ] 페이징 쿼리 성능
- [ ] 연결 풀 상태 확인

### 캐싱
- [ ] Redis 캐시 동작 확인
- [ ] 캐시 적중률 측정 (목표: 80% 이상)
- [ ] 캐시 무효화 동작 (create/update/delete 시)
- [ ] TTL 설정 확인 (list: 5분, detail: 10분)

### API 응답
- [ ] 주요 API 응답 시간 측정 (목표: 500ms 이내)
  - GET /api/events (목록)
  - GET /api/events/:id (상세)
  - GET /api/budgets
  - GET /api/settlements
- [ ] 응답 압축 확인 (gzip)
- [ ] 응답 크기 최적화 (30% 이상 감소)

### 부하 테스트
- [ ] 동시 사용자 100명 처리
- [ ] 1000개 이상 데이터 페이징 성능
- [ ] OCR 큐 처리 성능
- [ ] 이메일 큐 처리 성능

---

## 4. 통합 테스트

### 시나리오 테스트
- [ ] **시나리오 1**: 회원가입 → 조직 생성 → 행사 생성 → 예산서 작성
- [ ] **시나리오 2**: 행사 생성 → 예산서 작성 → 영수증 업로드 → OCR 처리 → 정산서 작성
- [ ] **시나리오 3**: 게시글 작성 → 댓글 추가 → 좋아요 → 알림 수신
- [ ] **시나리오 4**: 관리자 로그인 → 사용자 관리 → 조직 할당 → 권한 부여

### 엔드-투-엔드
- [ ] 프론트엔드 연동 확인 (CORS, 토큰 전달)
- [ ] WebSocket 연결 및 알림 수신
- [ ] 파일 업로드 및 다운로드
- [ ] OCR 마이크로서비스 연동

---

## 5. 배포 검증

### Docker
- [ ] Dockerfile 빌드 성공
- [ ] 컨테이너 실행 확인
- [ ] 헬스체크 동작 확인
- [ ] Docker Compose 전체 서비스 실행 (DB, Redis, Backend)

### 환경 설정
- [ ] .env.production 검증
- [ ] 프로덕션 DB 연결 확인
- [ ] Redis 연결 확인
- [ ] SMTP 설정 확인
- [ ] OCR 서비스 연결 확인

### 로깅 및 모니터링
- [ ] 애플리케이션 로그 확인
- [ ] 에러 로그 수집
- [ ] 요청 로깅 동작 (모든 API 호출)
- [ ] 성능 경고 로그 (5초 이상 소요 요청)

---

## 6. 문서 검증

### API 문서
- [ ] Swagger UI 접근 확인 (/api/docs)
- [ ] 모든 엔드포인트 문서화 완료
- [ ] 예시 요청/응답 정확성
- [ ] 에러 응답 문서화

### 개발자 가이드
- [ ] 시작하기 가이드 정확성
- [ ] 인증 예시 동작 확인
- [ ] 에러 처리 가이드 정확성
- [ ] FAQ 답변 검증

### README
- [ ] 설치 방법 정확성
- [ ] 환경 변수 설명 완전성
- [ ] 기능 목록 최신화
- [ ] 라이센스 정보

---

## 7. 회귀 테스트

### 기존 기능 영향 확인
- [ ] 인증 시스템 정상 동작
- [ ] 권한 시스템 정상 동작
- [ ] CRUD 작업 모두 정상
- [ ] Relations 조회 정상
- [ ] 페이징 정상 동작
- [ ] 필터링 정상 동작

---

## 테스트 실행 방법

### 단위 테스트
```bash
npm run test
```

### E2E 테스트
```bash
npm run test:e2e
```

### 테스트 커버리지
```bash
npm run test:cov
```

### 부하 테스트 (예시: Apache Bench)
```bash
# 100명의 동시 사용자, 총 1000 요청
ab -n 1000 -c 100 -H "Authorization: Bearer <TOKEN>" http://localhost:3000/api/events
```

### 보안 스캔 (예시)
```bash
npm audit
npm audit fix
```

---

## 테스트 완료 기준

- [ ] 모든 기능 테스트 항목 통과
- [ ] 보안 테스트 항목 모두 확인
- [ ] 성능 목표 달성 (응답 시간 500ms 이내, 캐시 적중률 80% 이상)
- [ ] 통합 테스트 시나리오 모두 성공
- [ ] 배포 검증 완료
- [ ] 문서 검증 완료
- [ ] 회귀 테스트 통과
- [ ] 테스트 커버리지 70% 이상

---

**마지막 업데이트**: 2025-11-17
**테스트 버전**: 1.0.0
